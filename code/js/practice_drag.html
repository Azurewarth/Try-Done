<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
<script type="text/javascript">
window.onload=function(){

	var oDiv = document.getElementById('div1');

	drag(oDiv);


	function drag(obj){

	obj.onmousedown=function(ev){
		var ev = ev || event;
		var disX = ev.clientX-obj.offsetLeft;
		var disY = ev.clientY-obj.offsetTop;

		document.onmousemove=function(ev){
			var ev = ev || event;
			var Y = ev.clientY-disY;
			var X = ev.clientX-disX;
			if (Y<0)
			{
				Y=0;
			} 
			else if (Y>document.documentElement.clientHeight - obj.offsetHeight)
			{
				Y=document.documentElement.clientHeight - obj.offsetHeight;
			}
			if (X<0)
			{
				X=0;
			}
			else if (X>document.documentElement.clientWidth - obj.offsetWidth)
			{
				X=document.documentElement.clientWidth - obj.offsetWidth;
			}
			obj.style.top = Y + 'px';
			obj.style.left = X + 'px';
		}
		document.onmouseup=function(){
			document.onmousemove=document.onmouseup=null;
		}
		return false;
	}
}

}
</script>
<style>
	#div1 {position: absolute; width: 100px; height: 100px; background: blue;}
</style>
</head>
<body>
	<div id='div1'></div>
</body>
</html>